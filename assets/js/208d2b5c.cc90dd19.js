"use strict";(self.webpackChunkhomelab=self.webpackChunkhomelab||[]).push([[1577],{4303:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var r=n(4848),i=n(8453);const o={},s="Migrate to a bigger disk",l={id:"Proxmox/migrate-to-bigger-disk",title:"Migrate to a bigger disk",description:"Tools",source:"@site/docs/Proxmox/migrate-to-bigger-disk.md",sourceDirName:"Proxmox",slug:"/Proxmox/migrate-to-bigger-disk",permalink:"/homelab/docs/Proxmox/migrate-to-bigger-disk",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Proxmox/migrate-to-bigger-disk.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"How to mount a new storage disk",permalink:"/homelab/docs/Proxmox/how-to-mount-storage"},next:{title:"Setup Authentik with OpenWebUI",permalink:"/homelab/docs/Authentik/OpenWebUI"}},a={},d=[{value:"Tools",id:"tools",level:2},{value:"Create a bootable USB drive",id:"create-a-bootable-usb-drive",level:2},{value:"Resize the new drive",id:"resize-the-new-drive",level:2}];function c(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"migrate-to-a-bigger-disk",children:"Migrate to a bigger disk"}),"\n",(0,r.jsx)(t.h2,{id:"tools",children:"Tools"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://etcher.balena.io/",children:"Balena Etcher"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://clonezilla.org/downloads.php",children:"Clonezilla"})}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"create-a-bootable-usb-drive",children:"Create a bootable USB drive"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Download Clonezilla as an ",(0,r.jsx)(t.code,{children:".iso"})," file"]}),"\n",(0,r.jsx)(t.li,{children:"Use Balena Etcher to create a bootable USB drive"}),"\n",(0,r.jsx)(t.li,{children:"Connect both drives, source and target with you PC"}),"\n",(0,r.jsx)(t.li,{children:"Plug the USB stick in your PC and boot from it"}),"\n",(0,r.jsx)(t.li,{children:"Start the computer and run Clonezilla live"}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"resize-the-new-drive",children:"Resize the new drive"}),"\n",(0,r.jsx)(t.p,{children:"First resize the physical disk."}),"\n",(0,r.jsxs)(t.p,{children:["Check with ",(0,r.jsx)(t.code,{children:"pvdisplay"})," the physical drives.\nMy new 1TB SSD is shown as ",(0,r.jsx)(t.code,{children:"nvme0n1p3"}),".\nAfterwards, I ran the resize command."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-shell",children:"pvresize /dev/nvme0n1p3\n"})}),"\n",(0,r.jsx)(t.p,{children:"Resize the logical volume"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-shell",children:"lvresize --extents +100%FREE --resizefs pve/data\n"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://www.youtube.com/watch?v=xnKet-5REXM",children:"https://www.youtube.com/watch?v=xnKet-5REXM"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://blog.dgprasetya.com/promox-extend-lvm-partition-ofly/",children:"https://blog.dgprasetya.com/promox-extend-lvm-partition-ofly/"})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>l});var r=n(6540);const i={},o=r.createContext(i);function s(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);